@model Sewa360.Areas.Admin.Models.DashboardViewModel

@{
    Layout = "~/Areas/Admin/Views/Shared/_dashboardlayout.cshtml";
    ViewBag.Title = "Admin Dashboard";
}

<!-- Bootstrap Icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet" />

<style>
    .dashboard-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .dashboard-card {
        border-radius: 1rem;
        padding: 2rem;
        text-align: center;
        transition: transform 0.3s ease;
        height: 250px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin-bottom: 2rem;
    }

        .dashboard-card:hover {
            transform: translateY(-5px);
        }

        .dashboard-card .icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .dashboard-card .count {
            font-size: 2.8rem;
            font-weight: bold;
        }

        .dashboard-card .label {
            font-size: 1.3rem;
            margin-top: 0.7rem;
        }

    /* Card spacing */
    .row.g-4 > [class*="col-"] {
        padding-left: 1rem;
        padding-right: 1rem;
    }
</style>

<div class="container mt-4" id="dashboardContainer">
    <h2 class="dashboard-header">Admin Dashboard Overview</h2>

    <div class="row g-4">
        <div class="col-md-4">
            <a href="@Url.Action("PartnerList", "Admin")" class="text-decoration-none">
                <div class="dashboard-card bg-primary text-white shadow">
                    <div class="icon"><i class="bi bi-people-fill"></i></div>
                    <div class="count counter" data-count="@Model.TotalPartners">0</div>
                    <div class="label">Total Partners</div>
                </div>
            </a>
        </div>


      


        <div class="col-md-4">
           <a href="@Url.Action("CreateManager", "Admin")" class="text-decoration-none">
             <div class="dashboard-card bg-success text-white shadow">
                <div class="icon"><i class="bi bi-person-lines-fill"></i></div>
                <div class="count counter" data-count="@Model.TotalManagers">0</div>
                <div class="label">Total Managers</div>
             </div>
           </a>
        </div>

        <div class="col-md-4">
            <a href="@Url.Action("CompanyListPage", "Company", new { area = "" })" class="text-decoration-none">
              <div class="dashboard-card bg-info text-white shadow">
                <div class="icon"><i class="bi bi-building"></i></div>
                <div class="count counter" data-count="@Model.TotalCompanies">0</div>
                <div class="label">Total Companies</div>
              </div>
            </a>
        </div>

        <div class="col-md-4">
            <a href="@Url.Action("BranchListPage", "Branch",new { area = "" })" class="text-decoration-none">
              <div class="dashboard-card bg-warning text-white shadow">
                <div class="icon"><i class="bi bi-diagram-3-fill"></i></div>
                <div class="count counter" data-count="@Model.TotalBranches">0</div>
                <div class="label">Total Branches</div>
              </div>
            </a>
        </div>

        <div class="col-md-4">
            <a href="@Url.Action("ServiceProviderList", "ServiceProvider",new { area = "" })" class="text-decoration-none">
              <div class="dashboard-card bg-danger text-white shadow">
                <div class="icon"><i class="bi bi-person-badge-fill"></i></div>
                <div class="count counter" data-count="@Model.TotalServiceProviders">0</div>
                <div class="label">Service Providers</div>
              </div>
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Counter Animation
        document.addEventListener("DOMContentLoaded", function () {
            const counters = document.querySelectorAll(".counter");
            counters.forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute("data-count");
                    const count = +counter.innerText;
                    const increment = Math.ceil(target / 40);

                    if (count < target) {
                        counter.innerText = count + increment;
                        setTimeout(updateCount, 20);
                    } else {
                        counter.innerText = target;
                    }
                };
                updateCount();
            });
        });
    </script>
}
